<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NOUVA SHOP</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Open+Sans&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Open Sans',sans-serif}
body{background:#f4f4f4;color:#111}

/* HEADER */
header{
background:#000;color:#FFD700;padding:16px;text-align:center;
position:sticky;top:0;z-index:1000
}
.logo{font-family:'Montserrat';font-size:26px;letter-spacing:2px}

/* FILTER */
.filters{display:flex;gap:10px;justify-content:center;padding:14px;flex-wrap:wrap}
.filters input{padding:8px;border-radius:12px;border:1px solid #ccc}

/* PRODUCTS */
.products{
padding:20px;
display:grid;
grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
gap:18px
}
.product{
background:#fff;
border-radius:18px;
padding:12px;
text-align:center;
box-shadow:0 8px 20px rgba(0,0,0,.1);
transition:.3s;
position:relative;
touch-action:pan-y
}
.product img{
width:100%;height:160px;object-fit:cover;border-radius:14px
}
.product h3{margin:8px 0;font-size:15px}
.product p{color:#FFD700;font-weight:bold}

/* ADD / QTY */
.add-btn, .qty-box{
margin-top:6px;
display:flex;
justify-content:center;
align-items:center;
gap:10px
}
.add-btn button{
padding:8px 16px;border:none;border-radius:14px;
background:#000;color:#FFD700;font-weight:bold;cursor:pointer
}
.qty-box button{
width:32px;height:32px;border-radius:50%;
border:none;background:#000;color:#FFD700;font-size:18px
}

/* CART FLOAT */
.cart-float{
position:fixed;bottom:20px;right:20px;
width:70px;height:70px;border-radius:50%;
background:#000;color:#FFD700;
display:flex;align-items:center;justify-content:center;
font-size:28px;cursor:pointer;
box-shadow:0 0 25px rgba(255,215,0,.6);
z-index:999
}
.cart-float.shake{animation:shake .4s}
@keyframes shake{
0%,100%{transform:translateX(0)}
25%{transform:translateX(-4px)}
75%{transform:translateX(4px)}
}
.cart-float span{
position:absolute;top:-6px;right:-6px;
background:#FFD700;color:#000;
padding:4px 8px;border-radius:50%;font-size:13px
}

/* CART PANEL */
.cart-panel{
position:fixed;inset:0;
background:rgba(0,0,0,.6);
display:none;align-items:flex-end;justify-content:center;
z-index:1000
}
.cart-box{
background:#fff;width:100%;max-height:90%;
border-radius:22px 22px 0 0;padding:20px;overflow:auto
}
.cart-item{display:flex;justify-content:space-between;margin:8px 0}

/* MODAL */
.modal{
position:fixed;inset:0;background:rgba(0,0,0,.6);
display:none;align-items:center;justify-content:center;z-index:2000
}
.modal-box{
background:#fff;border-radius:20px;padding:20px;
width:90%;max-width:320px;text-align:center
}
.modal-box img{width:100%;border-radius:14px}
.modal-qty{display:flex;justify-content:center;gap:10px;margin:10px 0}
.modal-qty button{
width:36px;height:36px;border-radius:50%;
border:none;background:#000;color:#FFD700;font-size:18px
}

/* CONFIRM */
.confirm{
display:none;min-height:100vh;
align-items:center;justify-content:center;
flex-direction:column;text-align:center
}
</style>
</head>

<body>

<header><div class="logo">NOUVA SHOP</div></header>

<div class="filters">
<input type="number" id="minPrice" placeholder="ÿßŸÑÿ≥ÿπÿ± ÿßŸÑÿ£ÿØŸÜŸâ">
<input type="number" id="maxPrice" placeholder="ÿßŸÑÿ≥ÿπÿ± ÿßŸÑÿ£ÿπŸÑŸâ">
</div>

<div class="products" id="products"></div>

<div class="cart-float" id="cartFloat" onclick="openCart()">üõí<span id="cartCount">0</span></div>

<!-- CART -->
<div class="cart-panel" id="cartPanel">
<div class="cart-box">
<h3>ÿßŸÑÿ≥ŸÑÿ©</h3>
<div id="cartItems"></div>
<p id="total"></p>
<button onclick="sendOrder()">Ÿàÿßÿ™ÿ≥ÿßÿ®</button>
</div>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-box">
<img id="modalImg">
<h3 id="modalTitle"></h3>
<p id="modalPrice"></p>
<div class="modal-qty">
<button onclick="changeModalQty(-1)">‚àí</button>
<span id="modalQty">1</span>
<button onclick="changeModalQty(1)">+</button>
</div>
<button onclick="confirmAdd()">ÿ•ÿ∂ÿßŸÅÿ© ŸÑŸÑÿ≥ŸÑÿ©</button>
</div>
</div>

<div class="confirm" id="confirm">
<h2>‚úÖ ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ∑ŸÑÿ®</h2>
<button onclick="location.reload()">ÿ±ÿ¨Ÿàÿπ</button>
</div>

<script>
let cart=[]
let selectedProduct=null
let modalQty=1

const productsData=[
{id:1,ar:"ŸÖÿßŸÉŸäŸÜÿ© ŸÇŸáŸàÿ©",price:350,img:"https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6"},
{id:2,ar:"ŸÖÿ∑ÿ≠ŸÜÿ© ŸÇŸáŸàÿ©",price:280,img:"https://images.unsplash.com/photo-1587730938486-27f0c2f1fefc"},
{id:3,ar:"ŸÉŸàÿ® ŸÅÿßÿÆÿ±",price:150,img:"https://images.unsplash.com/photo-1541167760496-1628856ab772"},
{id:4,ar:"ŸÉŸàÿ® ÿ≥ŸÅÿ±",price:180,img:"https://images.unsplash.com/photo-1523362628745-0c100150b504"},
{id:5,ar:"ÿ¢ŸÑÿ© ÿ•ÿ≥ÿ®ÿ±Ÿäÿ≥Ÿà",price:550,img:"https://images.unsplash.com/photo-1521302080371-d8bfccfbb9cf"}
]

const products=document.getElementById("products")

function renderProducts(){
products.innerHTML=""
productsData.forEach(p=>{
products.innerHTML+=`
<div class="product" data-id="${p.id}">
<img src="${p.img}">
<h3>${p.ar}</h3>
<p>${p.price} ÿØ.ŸÖ</p>
<div class="add-btn">
<button onclick="openModal(${p.id})">ÿ£ÿ∂ŸÅ ŸÑŸÑÿ≥ŸÑÿ©</button>
</div>
</div>`
})
}
renderProducts()

function openModal(id){
selectedProduct=productsData.find(p=>p.id===id)
modalQty=1
modal.style.display="flex"
modalImg.src=selectedProduct.img
modalTitle.innerText=selectedProduct.ar
modalPrice.innerText=selectedProduct.price+" ÿØ.ŸÖ"
modalQtyEl.innerText=modalQty
}

function changeModalQty(v){
modalQty=Math.max(1,modalQty+v)
modalQtyEl.innerText=modalQty
}

function confirmAdd(){
let item=cart.find(i=>i.id===selectedProduct.id)
if(item)item.qty+=modalQty
else cart.push({...selectedProduct,qty:modalQty})
modal.style.display="none"
updateCart()
flyToCart()
}

function updateCart(){
cartCount.innerText=cart.reduce((a,b)=>a+b.qty,0)
cartItems.innerHTML=""
let total=0
cart.forEach(i=>{
total+=i.price*i.qty
cartItems.innerHTML+=`
<div class="cart-item">
<span>${i.ar} √ó ${i.qty}</span>
<span>${i.price*i.qty} ÿØ.ŸÖ</span>
</div>`
})
document.getElementById("total").innerText="ÿßŸÑŸÖÿ¨ŸÖŸàÿπ: "+total+" ÿØ.ŸÖ"
}

function flyToCart(){
cartFloat.classList.add("shake")
setTimeout(()=>cartFloat.classList.remove("shake"),400)
}

function openCart(){cartPanel.style.display="flex"}
function sendOrder(){
let msg="ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØ ŸÖŸÜ NOUVA SHOP\n"
cart.forEach(i=>msg+=`${i.ar} x${i.qty}\n`)
window.open("https://wa.me/212600000000?text="+encodeURIComponent(msg))
confirm.style.display="flex"
}
</script>

</body>
</html>
